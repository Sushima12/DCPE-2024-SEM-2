
Using recognition_original.py
managed to detect more than one face

Bug
- the rectangles overlapped each other
- if there is one face detected....
- put rectangle around the face
- 2 face
- n= 0
- face 1 put rectangle
- face 2
```
Predictions:  [{'confidence': 0.8945711851119995, 'x_min': 226, 'y_min': 82, 'x_max': 465, 'y_max': 413}]
Number of faces:  1
Result {'message': 'A face was recognised', 'count': 1, 'predictions': [{'confidence': 0.8315880298614502, 'userid': 'wen xiang', 'x_min': 227, 'y_min': 82, 'x_max': 462, 'y_max': 410}], 'success': True, 'inferenceMs': 428, 'processMs': 442, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '2f62c81e-ccb1-4fc1-897e-e44a3ad0e590', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 447, 'processedBy': 'localhost', 'timestampUTC': 'Wed, 05 Feb 2025 02:54:35 GMT'}
Recognized_ID wen xiang 
Recognized as: wen xiang
```

```
Predictions:  [{'confidence': 0.8277344107627869, 'x_min': 122, 'y_min': 72, 'x_max': 188, 'y_max': 151}, {'confidence': 0.9104940295219421, 'x_min': 278, 
'y_min': 26, 'x_max': 515, 'y_max': 336}]
Number of faces:  2
Result {'message': 'A face was recognised', 'count': 1, 'predictions': [{'confidence': 0.8900806307792664, 'userid': 'wen xiang', 'x_min': 278, 'y_min': 27, 'x_max': 515, 'y_max': 336}], 'success': True, 'inferenceMs': 415, 'processMs': 429, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '058272d6-b452-4ece-a9ce-c3087be4bad1', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 434, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 06:57:18 GMT'}
Recognized_ID wen xiang
Recognized as: wen xiang
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.7420675158500671, 'userid': 'Patrick', 'x_min': 124, 'y_min': 78, 
'x_max': 188, 'y_max': 146}, {'confidence': 0.8782104253768921, 'userid': 'wen xiang', 'x_min': 277, 'y_min': 25, 'x_max': 516, 'y_max': 334}], 'success': 
True, 'inferenceMs': 550, 'processMs': 575, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '55483d0a-5d2c-4a67-b696-08d26fe321f1', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 580, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 06:57:19 GMT'}
Recognized_ID Patrick
Recognized as: Patrick
Recognized_ID wen xiang
Recognized as: wen xiang
```


Predictions:  [{'confidence': 0.7261672616004944, 'x_min': 614, 'y_min': 366, 'x_max': 640, 'y_max': 452}, {'confidence': 0.8594918251037598, 'x_min': 9, 'y_min': 214, 'x_max': 202, 'y_max': 433}, {'confidence': 0.8682317733764648, 'x_min': 182, 'y_min': 327, 'x_max': 265, 'y_max': 430}]
Number of faces:  3
Result {'message': 'A face was recognised', 'count': 3, 'predictions': [{'confidence': 0.7316745221614838, 'userid': 'Patrick', 'x_min': 615, 'y_min': 367, 'x_max': 640, 'y_max': 451}, {'confidence': 0.7581535875797272, 'userid': 'wen xiang', 'x_min': 9, 'y_min': 214, 'x_max': 202, 'y_max': 433}, {'confidence': 0.7667633891105652, 'userid': 'wen xiang', 'x_min': 182, 'y_min': 326, 'x_max': 265, 'y_max': 430}], 'success': True, 'inferenceMs': 541, 'processMs': 574, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '47684c6e-9d1c-4a89-a793-811024fda5b0', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 578, 'processedBy': 'localhost', 'timestampUTC': 'Wed, 05 Feb 2025 03:29:00 GMT'}
Recognized_ID Patrick
Recognized as: Patrick
Recognized_ID wen xiang
Recognized as: wen xiang
Recognized_ID wen xiang
Recognized as: wen xiang
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.7223401367664337, 'userid': 'wen xiang', 'x_min': 183, 'y_min': 327, 'x_max': 264, 'y_max': 429}, {'confidence': 0.7592751383781433, 'userid': 'wen xiang', 'x_min': 12, 'y_min': 214, 'x_max': 202, 'y_max': 432}], 'success': True, 'inferenceMs': 413, 'processMs': 431, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': 'e1717db4-7fe6-417e-ad88-fcc7e07de418', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 435, 'processedBy': 'localhost', 'timestampUTC': 'Wed, 05 Feb 2025 03:29:01 GMT'}
Recognized_ID wen xiang
Recognized as: wen xiang
Recognized_ID wen xiang
Recognized as: wen xiang
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.7062136232852936, 'userid': 'wen xiang', 'x_min': 183, 'y_min': 325, 'x_max': 264, 'y_max': 427}, {'confidence': 0.7541431784629822, 'userid': 'wen xiang', 'x_min': 12, 'y_min': 213, 'x_max': 202, 'y_max': 432}], 'success': True, 'inferenceMs': 417, 'processMs': 439, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '74485482-b182-4831-aa1c-fa0414893582', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 442, 'processedBy': 'localhost', 'timestampUTC': 'Wed, 05 Feb 2025 03:29:01 GMT'}
Recognized_ID wen xiang
Recognized as: wen xiang
Recognized_ID wen xiang
Recognized as: wen xiang


Predictions:  [{'confidence': 0.8648353815078735, 'x_min': 11, 'y_min': 214, 'x_max': 206, 'y_max': 434}, {'confidence': 0.868039608001709, 'x_min': 182, 'y_min': 327, 'x_max': 263, 'y_max': 429}]
Number of faces:  2
Result {'message': 'A face was recognised', 'count': 3, 'predictions': [{'confidence': 0.7448444813489914, 'userid': 'Patrick', 'x_min': 612, 'y_min': 363, 'x_max': 640, 'y_max': 453}, {'confidence': 0.7135683298110962, 'userid': 'wen xiang', 'x_min': 184, 'y_min': 326, 'x_max': 263, 'y_max': 428}, {'confidence': 0.7684586346149445, 'userid': 'wen xiang', 'x_min': 14, 'y_min': 215, 'x_max': 204, 'y_max': 433}], 'success': True, 'inferenceMs': 578, 'processMs': 
609, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '9ba2426b-f899-47c1-b50a-72396bca33ea', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 613, 'processedBy': 'localhost', 'timestampUTC': 'Wed, 05 Feb 2025 03:29:02 GMT'}
Recognized_ID Patrick
Recognized as: Patrick
Recognized_ID wen xiang
Recognized as: wen xiang
Recognized_ID wen xiang
Recognized as: wen xiang
Result {'message': 'A face was recognised', 'count': 3, 'predictions': [{'confidence': 0.7394950985908508, 'userid': 'Patrick', 'x_min': 613, 'y_min': 363, 'x_max': 640, 'y_max': 453}, {'confidence': 0.7090269923210144, 'userid': 'wen xiang', 'x_min': 184, 'y_min': 325, 'x_max': 262, 'y_max': 427}, {'confidence': 0.7634923160076141, 'userid': 'wen xiang', 'x_min': 14, 'y_min': 214, 'x_max': 206, 'y_max': 433}], 'success': True, 'inferenceMs': 537, 'processMs': 
567, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '8cea30e8-cb41-4946-ba89-f3062045c437', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 571, 'processedBy': 'localhost', 'timestampUTC': 'Wed, 05 Feb 2025 03:29:02 GMT'}
Recognized_ID Patrick
Recognized as: Patrick
Recognized_ID wen xiang
Recognized as: wen xiang
Recognized_ID wen xiang
Recognized as: wen xiang

Predictions:  [{'confidence': 0.8244711756706238, 'x_min': 490, 'y_min': 360, 'x_max': 564, 'y_max': 460}, {'confidence': 0.8849808573722839, 'x_min': 190, 'y_min': 243, 'x_max': 334, 'y_max': 433}]
Number of faces:  2
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.6825932562351227, 'userid': 'wen xiang', 'x_min': 486, 'y_min': 356, 'x_max': 567, 'y_max': 460}, {'confidence': 0.8281554579734802, 'userid': 'wen xiang', 'x_min': 190, 'y_min': 241, 'x_max': 334, 'y_max': 433}], 'success': True, 'inferenceMs': 431, 'processMs': 454, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': 'd978fefb-643a-4e8e-8302-835d59671c79', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 457, 'processedBy': 'localhost', 'timestampUTC': 'Wed, 05 Feb 2025 03:29:03 GMT'}
Recognized_ID wen xiang
Recognized as: wen xiang
Recognized_ID wen xiang
Recognized as: wen xiang
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.6824769675731659, 'userid': 'wen xiang', 'x_min': 486, 'y_min': 356, 'x_max': 567, 'y_max': 460}, {'confidence': 0.8255193829536438, 'userid': 'wen xiang', 'x_min': 192, 'y_min': 240, 'x_max': 333, 'y_max': 432}], 'success': True, 'inferenceMs': 434, 'processMs': 457, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '0fb0d8ab-7253-433f-a892-5d9b64884997', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 460, 'processedBy': 'localhost', 'timestampUTC': 'Wed, 05 Feb 2025 03:29:04 GMT'}
Recognized_ID wen xiang
Recognized as: wen xiang
Recognized_ID wen xiang
Recognized as: wen xiang
Predictions:  [{'confidence': 0.8527387380599976, 'x_min': 517, 'y_min': 314, 'x_max': 593, 'y_max': 413}, {'confidence': 0.8869373798370361, 'x_min': 166, 'y_min': 192, 'x_max': 309, 'y_max': 381}]
Number of faces:  2
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.6761669963598251, 'userid': 'Patrick', 'x_min': 516, 'y_min': 314, 'x_max': 594, 'y_max': 412}, {'confidence': 0.8561758995056152, 'userid': 'wen xiang', 'x_min': 166, 'y_min': 191, 'x_max': 309, 'y_max': 381}], 'success': True, 'inferenceMs': 424, 'processMs': 443, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '3bd21826-ff05-4ab5-ac5a-68df4f078a82', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 446, 'processedBy': 'localhost', 'timestampUTC': 'Wed, 05 Feb 
2025 03:29:04 GMT'}
Recognized_ID Patrick
Recognized as: Patrick
Recognized_ID wen xiang
Recognized as: wen xiang
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.6853409260511398, 'userid': 'Patrick', 'x_min': 518, 'y_min': 314, 'x_max': 595, 'y_max': 412}, {'confidence': 0.845205694437027, 'userid': 'wen xiang', 'x_min': 167, 'y_min': 191, 'x_max': 308, 'y_max': 378}], 'success': True, 'inferenceMs': 431, 'processMs': 452, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '61cf8683-02c4-46ac-a757-2e7486776df1', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 456, 'processedBy': 'localhost', 'timestampUTC': 'Wed, 05 Feb 2025 03:29:05 GMT'}
Recognized_ID Patrick
Recognized as: Patrick
Recognized_ID wen xiang
Recognized as: wen xiang
Predictions:  [{'confidence': 0.8596572279930115, 'x_min': 529, 'y_min': 318, 'x_max': 601, 'y_max': 417}, {'confidence': 0.8935437798500061, 'x_min': 165, 'y_min': 195, 'x_max': 312, 'y_max': 390}]
Number of faces:  2
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.7061676234006882, 'userid': 'Patrick', 'x_min': 529, 'y_min': 319, 'x_max': 601, 'y_max': 416}, {'confidence': 0.8491236567497253, 'userid': 'wen xiang', 'x_min': 165, 'y_min': 194, 'x_max': 312, 'y_max': 390}], 'success': True, 'inferenceMs': 430, 'processMs': 451, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '6dd6ebf2-44d2-43ba-87e0-9543bdb4c421', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 455, 'processedBy': 'localhost', 'timestampUTC': 'Wed, 05 Feb 
2025 03:29:06 GMT'}
Recognized_ID Patrick
Recognized as: Patrick
Recognized_ID wen xiang
Recognized as: wen xiang
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.702107384800911, 'userid': 'Patrick', 'x_min': 529, 'y_min': 318, 
'x_max': 601, 'y_max': 416}, {'confidence': 0.8379358649253845, 'userid': 'wen xiang', 'x_min': 167, 'y_min': 192, 'x_max': 311, 'y_max': 389}], 'success': True, 'inferenceMs': 417, 'processMs': 439, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '13322dad-fb25-4307-8967-f764b4a6ed2f', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 443, 'processedBy': 'localhost', 'timestampUTC': 'Wed, 05 Feb 2025 03:29:06 GMT'}
Recognized_ID Patrick
Recognized as: Patrick
Recognized_ID wen xiang
Recognized as: wen xiang



---
#### 6/2/25 patric's log

```
Predictions:  []
Number of faces:  0
Predictions:  []
Number of faces:  0
Predictions:  []
Number of faces:  0
Predictions:  []
Number of faces:  0
Predictions:  []
Number of faces:  0
Predictions:  []
Number of faces:  0
Predictions:  [{'confidence': 0.788475513458252, 'x_min': 262, 'y_min': 358, 'x_max': 390, 'y_max': 480}]
Number of faces:  1
Result {'message': 'A face was recognised', 'count': 1, 'predictions': [{'confidence': 0.7345580607652664, 'userid': 'Patrick', 'x_min': 264, 'y_min': 358, 'x_max': 390, 'y_max': 479}], 'success': True, 'inferenceMs': 353, 'processMs': 370, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '074149c0-3b0f-4cdd-b369-dbdd2b813de4', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 374, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 
06 Feb 2025 07:22:16 GMT'}
Recognized_ID Patrick
Recognized as: Patrick
Predictions:  []
Number of faces:  0
Predictions:  []
Number of faces:  0
Predictions:  []
Number of faces:  0
Predictions:  []
Number of faces:  0
Predictions:  []
Number of faces:  0
Predictions:  []
Number of faces:  0
Predictions:  []
Number of faces:  0
Predictions:  []
Number of faces:  0

Predictions:  [{'confidence': 0.8236691355705261, 'x_min': 280, 'y_min': 348, 'x_max': 379, 'y_max': 480}]
Number of faces:  1
Result {'message': 'A face was recognised', 'count': 1, 'predictions': [{'confidence': 0.7692590653896332, 'userid': 'Patrick', 'x_min': 287, 'y_min': 347, 'x_max': 381, 'y_max': 478}], 'success': True, 'inferenceMs': 343, 'processMs': 358, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '4b979d95-4ade-43dd-83e7-9da7b941c172', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 363, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 
06 Feb 2025 07:22:18 GMT'}
Recognized_ID Patrick
Recognized as: Patrick

Predictions:  [{'confidence': 0.8241694569587708, 'x_min': 251, 'y_min': 335, 'x_max': 372, 'y_max': 480}]
Number of faces:  1
Result {'message': 'A face was recognised', 'count': 1, 'predictions': [{'confidence': 0.7515335083007812, 'userid': 'Patrick', 'x_min': 255, 'y_min': 334, 'x_max': 377, 'y_max': 478}], 'success': True, 'inferenceMs': 341, 'processMs': 358, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': 'bd01b312-347c-409f-af6d-36d2cb7d1c79', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 363, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 
06 Feb 2025 07:22:19 GMT'}
Recognized_ID Patrick
Recognized as: Patrick

Predictions:  [{'confidence': 0.8603219389915466, 'x_min': 326, 'y_min': 296, 'x_max': 518, 'y_max': 480}]
Number of faces:  1
Result {'message': 'No known faces', 'count': 1, 'predictions': [{'confidence': 0, 'userid': 'unknown', 'x_min': 328, 'y_min': 292, 'x_max': 518, 'y_max': 480}], 'success': True, 'inferenceMs': 348, 'processMs': 361, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '3947ab24-8368-4b9e-b246-0cece50491b5', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 365, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:20 GMT'}
Recognized_ID unknown
No face(s) recognized!!!


Predictions:  [{'confidence': 0.8817756175994873, 'x_min': 333, 'y_min': 195, 'x_max': 541, 'y_max': 455}]
Number of faces:  1
Result {'message': 'A face was recognised', 'count': 1, 'predictions': [{'confidence': 0.6756155788898468, 'userid': 'Yue Hang', 'x_min': 334, 'y_min': 191, 'x_max': 
541, 'y_max': 451}], 'success': True, 'inferenceMs': 363, 'processMs': 374, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '8d56d524-2be8-493e-9a5b-b12df008869b', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 378, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:20 GMT'}
Recognized_ID Yue Hang
Recognized as: Yue Hang

Predictions:  [{'confidence': 0.8948054909706116, 'x_min': 290, 'y_min': 180, 'x_max': 505, 'y_max': 459}]
Number of faces:  1
Result {'message': 'A face was recognised', 'count': 1, 'predictions': [{'confidence': 0.7287156581878662, 'userid': 'Yue Hang', 'x_min': 290, 'y_min': 177, 'x_max': 
506, 'y_max': 458}], 'success': True, 'inferenceMs': 337, 'processMs': 349, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': 'c43e5d28-f036-479b-9040-52f38826c107', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 354, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:21 GMT'}
Recognized_ID Yue Hang
Recognized as: Yue Hang

Predictions:  [{'confidence': 0.8914700746536255, 'x_min': 286, 'y_min': 215, 'x_max': 501, 'y_max': 480}]
Number of faces:  1
Result {'message': 'A face was recognised', 'count': 1, 'predictions': [{'confidence': 0.7173058092594147, 'userid': 'Yue Hang', 'x_min': 289, 'y_min': 212, 'x_max': 
502, 'y_max': 480}], 'success': True, 'inferenceMs': 340, 'processMs': 354, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': 'f372f260-a542-4ded-91f3-3b93996e4039', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 360, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:22 GMT'}
Recognized_ID Yue Hang
Recognized as: Yue Hang

Predictions:  [{'confidence': 0.8805965781211853, 'x_min': 250, 'y_min': 216, 'x_max': 462, 'y_max': 480}]
Number of faces:  1
Result {'message': 'A face was recognised', 'count': 1, 'predictions': [{'confidence': 0.6569605767726898, 'userid': 'Yue Hang', 'x_min': 253, 'y_min': 218, 'x_max': 
462, 'y_max': 480}], 'success': True, 'inferenceMs': 345, 'processMs': 356, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': 'd34f97d3-8c18-48fb-a4ba-75a21e19c4e5', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 361, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:22 GMT'}
Recognized_ID Yue Hang
Recognized as: Yue Hang

```
>Python script:
```python
for i in range(num_prediction_json):
	blue, green, red = 0, 0, 255
	frame = cv2.rectangle(frame,
		(predictions[i]['x_min'], predictions[i]['y_min']),
		(predictions[i]['x_max'], predictions[i]['y_max']),
		(blue, green, red), 2)
	# Save the frame as an image file named "image.jpg"
	cv2.imwrite('image.jpg', frame)
	# Get response
	result = recognize_face("image.jpg")
	print("Result", result)
	# Check if any detected faces are recognized


	if "predictions" in result:
		# Get userid
		# the for loop is getting all users that are predicted
		for user in result["predictions"]:
			recognized_ID=user["userid"]
			print("Recognized_ID", recognized_ID)
			#Check if userid is None or unknown
			if recognized_ID and recognized_ID != "unknown":
				#if recognized_ID
				#Print out name of recognized face
				print(f'Recognized as: {user["userid"]}')
				# Add name right next to the rectangle
				cv2.putText(frame, recognized_ID, (predictions[i]['x_min'], 
				predictions[i]['y_min']-10), 
				cv2.FONT_HERSHEY_SIMPLEX, 1, (0, 0, 255), 2, cv2.LINE_AA)
			else:
				print("No face(s) recognized!!!")
cv2.imshow('Image Viewer', frame)
```

>Problem Starts here

```
Predictions:  [{'confidence': 0.8652827739715576, 'x_min': 524, 'y_min': 251, 'x_max': 640, 'y_max': 429}, {'confidence': 0.8906919956207275, 'x_min': 122, 'y_min': 216, 'x_max': 341, 'y_max': 480}]
Number of faces:  2
Result {'message': 'A face was recognised', 'count': 2, 

'predictions': 
[{'confidence': 0.6980634182691574, 'userid': 'Boon Siong', 'x_min': 527, 'y_min': 250, 'x_max': 640, 'y_max': 428}, 

{'confidence': 0.6811316162347794, 'userid': 'Yue Hang', 'x_min': 122, 'y_min': 215, 'x_max': 341, 'y_max': 480}],

'success': True, 'inferenceMs': 457, 'processMs': 487, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': 'd2d70787-fbc0-434b-b9a1-58dec7b739e1', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 493, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:23 GMT'}
```

>For loop Starts (User)
```
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Yue Hang
Recognized as: Yue Hang

Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.7127205431461334, 'userid': 'Boon Siong', 'x_min': 527, 'y_min': 254, 'x_max': 640, 'y_max': 428}, {'confidence': 0.6836418807506561, 'userid': 'Yue Hang', 'x_min': 127, 'y_min': 213, 'x_max': 342, 'y_max': 480}], 'success': True, 'inferenceMs': 450, 'processMs': 479, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': 'f3333f89-9d7c-4bf6-a20b-49c308f4ff5c', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 483, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:23 GMT'}
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Yue Hang
Recognized as: Yue Hang
```




```
Predictions:  [{'confidence': 0.85267174243927, 'x_min': 0, 'y_min': 151, 'x_max': 236, 'y_max': 462}, {'confidence': 0.8592185378074646, 'x_min': 406, 'y_min': 253, 
'x_max': 555, 'y_max': 430}]
Number of faces:  2
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.7054885923862457, 'userid': 'Yue Hang', 'x_min': 1, 'y_min': 143, 'x_max': 240, 'y_max': 458}, {'confidence': 0.7965134084224701, 'userid': 'Boon Siong', 'x_min': 406, 'y_min': 253, 'x_max': 555, 'y_max': 430}], 'success': True, 'inferenceMs': 450, 'processMs': 469, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '497239e0-1c54-46f2-b0cf-6f23f900e45e', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 473, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:24 GMT'}
Recognized_ID Yue Hang
Recognized as: Yue Hang
Recognized_ID Boon Siong
Recognized as: Boon Siong
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.7274443060159683, 'userid': 'Yue Hang', 'x_min': 2, 'y_min': 151, 'x_max': 239, 'y_max': 456}, {'confidence': 0.7960833013057709, 'userid': 'Boon Siong', 'x_min': 407, 'y_min': 251, 'x_max': 555, 'y_max': 429}], 'success': True, 'inferenceMs': 441, 'processMs': 465, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': 'e09894bf-4ced-4b12-b61e-d2822afd9bf8', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 469, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:25 GMT'}
Recognized_ID Yue Hang
Recognized as: Yue Hang
Recognized_ID Boon Siong
Recognized as: Boon Siong

Predictions:  [{'confidence': 0.8730071187019348, 'x_min': 397, 'y_min': 252, 'x_max': 545, 'y_max': 435}, {'confidence': 0.873712420463562, 'x_min': 0, 'y_min': 162, 'x_max': 193, 'y_max': 460}]
Number of faces:  2
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.8414250016212463, 'userid': 'Boon Siong', 'x_min': 399, 'y_min': 252, 'x_max': 546, 'y_max': 434}, {'confidence': 0.7273200154304504, 'userid': 'Boon Siong', 'x_min': 0, 'y_min': 162, 'x_max': 192, 'y_max': 460}], 'success': True, 'inferenceMs': 447, 'processMs': 467, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': 'e9199fe2-f856-485b-b6fe-97c74fab178f', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 471, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:25 GMT'}
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Boon Siong
Recognized as: Boon Siong
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.8411969244480133, 'userid': 'Boon Siong', 'x_min': 399, 'y_min': 252, 'x_max': 546, 'y_max': 434}, {'confidence': 0.7012553215026855, 'userid': 'Boon Siong', 'x_min': 0, 'y_min': 158, 'x_max': 193, 'y_max': 456}], 'success': True, 'inferenceMs': 438, 'processMs': 467, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': 'faf09cde-7696-49a5-8bb3-511edbbaa1b0', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 472, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:26 GMT'}
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Boon Siong
Recognized as: Boon Siong
Predictions:  [{'confidence': 0.86957848072052, 'x_min': 0, 'y_min': 165, 'x_max': 196, 'y_max': 465}, {'confidence': 0.8870882987976074, 'x_min': 421, 'y_min': 252, 
'x_max': 567, 'y_max': 441}]
Number of faces:  2
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.698756143450737, 'userid': 'Boon Siong', 'x_min': 0, 'y_min': 159, 'x_max': 197, 'y_max': 459}, {'confidence': 0.8501915335655212, 'userid': 'Boon Siong', 'x_min': 421, 'y_min': 252, 'x_max': 567, 'y_max': 441}], 'success': True, 'inferenceMs': 468, 'processMs': 490, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '1a5ddc21-43ec-4336-86c7-de746fe81d9c', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 495, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:27 GMT'}
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Boon Siong
Recognized as: Boon Siong
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.710005983710289, 'userid': 'Boon Siong', 'x_min': 0, 'y_min': 164, 'x_max': 197, 'y_max': 459}, {'confidence': 0.8349798321723938, 'userid': 'Boon Siong', 'x_min': 423, 'y_min': 250, 'x_max': 566, 'y_max': 439}], 'success': True, 'inferenceMs': 475, 'processMs': 500, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '0333d5f5-4f6b-4d82-a691-ad966a36e0a9', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 505, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:27 GMT'}
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Boon Siong
Recognized as: Boon Siong

Predictions:  [{'confidence': 0.8640205264091492, 'x_min': 0, 'y_min': 168, 'x_max': 198, 'y_max': 473}, {'confidence': 0.8858969807624817, 'x_min': 410, 'y_min': 256, 'x_max': 559, 'y_max': 446}]
Number of faces:  2
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.7075880765914917, 'userid': 'Boon Siong', 'x_min': 0, 'y_min': 164, 'x_max': 
198, 'y_max': 469}, {'confidence': 0.8738049864768982, 'userid': 'Boon Siong', 'x_min': 411, 'y_min': 256, 'x_max': 559, 'y_max': 446}], 'success': True, 'inferenceMs': 479, 'processMs': 500, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '2d14aaa1-09ef-4f52-b10f-8100ab9adfb2', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 505, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:28 GMT'}
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Boon Siong
Recognized as: Boon Siong
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.724269688129425, 'userid': 'Boon Siong', 'x_min': 0, 'y_min': 169, 'x_max': 198, 'y_max': 469}, {'confidence': 0.8507583141326904, 'userid': 'Boon Siong', 'x_min': 412, 'y_min': 253, 'x_max': 558, 'y_max': 444}], 'success': True, 'inferenceMs': 468, 'processMs': 493, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '3c659fb2-0fa8-4f45-b92d-4973840c8232', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 498, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:29 GMT'}
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Boon Siong
Recognized as: Boon Siong

Predictions:  [{'confidence': 0.8603288531303406, 'x_min': 0, 'y_min': 171, 'x_max': 199, 'y_max': 475}, {'confidence': 0.8907272815704346, 'x_min': 389, 'y_min': 261, 'x_max': 539, 'y_max': 455}]
Number of faces:  2
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.7012545466423035, 'userid': 'Boon Siong', 'x_min': 0, 'y_min': 164, 'x_max': 
199, 'y_max': 472}, {'confidence': 0.8572598993778229, 'userid': 'Boon Siong', 'x_min': 389, 'y_min': 262, 'x_max': 539, 'y_max': 455}], 'success': True, 'inferenceMs': 461, 'processMs': 488, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '4fd258dd-9ecb-47ed-a80f-5bc8fd66dc2d', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 492, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:29 GMT'}
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Boon Siong
Recognized as: Boon Siong
Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.7150814235210419, 'userid': 'Boon Siong', 'x_min': 0, 'y_min': 168, 'x_max': 
199, 'y_max': 472}, {'confidence': 0.8372936546802521, 'userid': 'Boon Siong', 'x_min': 391, 'y_min': 259, 'x_max': 537, 'y_max': 451}], 'success': True, 'inferenceMs': 453, 'processMs': 479, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': 'b0e23199-1c8d-4d8c-8b9f-78e76c0ec126', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 485, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 07:22:30 GMT'}
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Boon Siong
Recognized as: Boon Siong

Predictions:  [{'confidence': 0.8614175915718079, 'x_min': 0, 'y_min': 176, 'x_max': 194, 'y_max': 477}, {'confidence': 0.892547607421875, 'x_min': 387, 'y_min': 262, 'x_max': 537, 'y_max': 461}]
Number of faces:  2
Traceback (most recent call last):
  File "C:\ET0743 5G & AIoT\5G&AIOT_Project\recognition_original.py", line 139, in <module>
    main()
  File "C:\ET0743 5G & AIoT\5G&AIOT_Project\recognition_original.py", line 109, in main
    result = recognize_face("image.jpg")
  File "C:\ET0743 5G & AIoT\5G&AIOT_Project\recognition_original.py", line 26, in recognize_face
    response = requests.post(opts.endpoint("vision/face/recognize"),
  File "C:\ET0743 5G & AIoT\5G&AIOT_Project\.venv\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "C:\ET0743 5G & AIoT\5G&AIOT_Project\.venv\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\ET0743 5G & AIoT\5G&AIOT_Project\.venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\ET0743 5G & AIoT\5G&AIOT_Project\.venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\ET0743 5G & AIoT\5G&AIOT_Project\.venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "C:\ET0743 5G & AIoT\5G&AIOT_Project\.venv\lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "C:\ET0743 5G & AIoT\5G&AIOT_Project\.venv\lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "C:\ET0743 5G & AIoT\5G&AIOT_Project\.venv\lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
  File "C:\Users\plipb\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1374, in getresponse
    response.begin()
  File "C:\Users\plipb\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "C:\Users\plipb\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 279, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\plipb\AppData\Local\Programs\Python\Python310\lib\socket.py", line 705, in readinto
    return self._sock.recv_into(b)
KeyboardInterrupt
```

![[Pasted image 20250206162832.png]]
Predictions:  [{'confidence': 0.7249621152877808, 'x_min': 291, 'y_min': 385, 'x_max': 317, 'y_max': 420}, {'confidence': 0.8615542054176331, 'x_min': 426, 'y_min': 148, 'x_max': 585, 'y_max': 345}, {'confidence': 0.8749756813049316, 'x_min': 86, 'y_min': 291, 'x_max': 240, 'y_max': 475}]
Number of faces:  3

Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.7079085558652878, 'userid': 'Boon Siong', 'x_min': 427, 'y_min': 146, 'x_max': 585, 'y_max': 345}, {'confidence': 0.7447618395090103, 'userid': 'Patrick', 'x_min': 86, 'y_min': 290, 'x_max': 240, 'y_max': 475}], 'success': True, 'inferenceMs': 608, 'processMs': 644, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '94688f8a-2fc1-410f-8b5b-61cf7bf82580', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 649, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 
2025 08:27:54 GMT'}
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Patrick
Recognized as: Patrick

Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.680257722735405, 'userid': 'Boon Siong', 'x_min': 426, 'y_min': 142, 'x_max': 586, 'y_max': 341}, {'confidence': 0.7339208722114563, 'userid': 'Patrick', 'x_min': 86, 'y_min': 289, 'x_max': 240, 'y_max': 475}], 'success': True, 'inferenceMs': 596, 'processMs': 627, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '2dfc906b-562f-4f10-86e3-aeb6c46b3d5f', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 633, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 2025 08:27:55 GMT'}
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Patrick
Recognized as: Patrick

Result {'message': 'A face was recognised', 'count': 2, 'predictions': [{'confidence': 0.6800378412008286, 'userid': 'Boon Siong', 'x_min': 426, 'y_min': 146, 'x_max': 586, 'y_max': 343}, {'confidence': 0.6900468915700912, 'userid': 'Patrick', 'x_min': 89, 'y_min': 285, 'x_max': 240, 'y_max': 471}], 'success': True, 'inferenceMs': 582, 'processMs': 616, 'moduleId': 'FaceProcessing', 'moduleName': 'Face Processing', 'code': 200, 'command': 'recognize', 'requestId': '14335927-6a23-43da-9fa4-5b367829e293', 'inferenceDevice': 'CPU', 'analysisRoundTripMs': 622, 'processedBy': 'localhost', 'timestampUTC': 'Thu, 06 Feb 
2025 08:27:55 GMT'}
Recognized_ID Boon Siong
Recognized as: Boon Siong
Recognized_ID Patrick
Recognized as: Patrick